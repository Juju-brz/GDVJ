[gd_scene load_steps=6 format=3 uid="uid://b36s10wft8s3r"]

[ext_resource type="PackedScene" uid="uid://bp8w6tlng3j86" path="res://baseScene.tscn" id="1_77fe4"]
[ext_resource type="Texture2D" uid="uid://cxk1yqvdskdin" path="res://geometries/Square.svg" id="2_87oag"]
[ext_resource type="Script" uid="uid://db8kufyo2ktxk" path="res://templates/persian_pattern.gd" id="2_rak5h"]
[ext_resource type="Shader" uid="uid://b0jcj53b5croi" path="res://templates/persianPattern.gdshader" id="3_jlpmm"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7wovf"]
shader = ExtResource("3_jlpmm")

[node name="Node2D" instance=ExtResource("1_77fe4")]
script = ExtResource("2_rak5h")

[node name="ColorRect" parent="." index="0"]
material = SubResource("ShaderMaterial_7wovf")

[node name="Geo" parent="." index="1"]
texture = ExtResource("2_87oag")

[node name="CodeEdit" parent="Control" index="1"]
text = "shader_type canvas_item;

// Uniform pour la résolution de l'écran (optionnel, si tu veux passer la résolution manuellement)
uniform vec2 resolution = vec2(1024.0, 768.0);

void fragment() {
    // Coordonnées normalisées (de 0 à 1)
    vec2 uv = UV;

    // Si tu veux utiliser la résolution réelle de l'écran :
    // vec2 uv = UV * resolution;

    // Couleur basée sur la position horizontale (comme dans ton exemple)
    vec3 col = vec3(uv.x);

    // Sortie finale
    COLOR = vec4(col, 1.0);
}"
